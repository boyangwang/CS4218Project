<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>COMMToolTest.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">CS4218Project (Apr 27, 2014 10:41:54 PM)</a> &gt; <a href="../../index.html" class="el_group">CS4218Project</a> &gt; <a href="../index.html" class="el_bundle">test</a> &gt; <a href="index.html" class="el_package">sg.edu.nus.comp.cs4218.impl.extended2</a> &gt; <span class="el_source">COMMToolTest.java</span></div><h1>COMMToolTest.java</h1><pre class="source lang-java linenums">package sg.edu.nus.comp.cs4218.impl.extended2;

import static org.junit.Assert.*;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.StandardOpenOption;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import sg.edu.nus.comp.cs4218.extended2.ICommTool;
import sg.edu.nus.comp.cs4218.impl.CommandParser;
import sg.edu.nus.comp.cs4218.impl.Shell;

<span class="fc" id="L18">public class COMMToolTest {</span>
	private Shell shell;
	private ICommTool commtool;

	@Before
	/**
	 * @CORRECTED setup has to be done specific to each test
	 * @throws Exception
	 */
	public void setUp() throws Exception {
<span class="fc" id="L28">		shell = new Shell(System.in, System.out);</span>
<span class="fc" id="L29">		commtool = new CommTool(null);</span>
<span class="fc" id="L30">	}</span>

	@After
	public void tearDown() throws Exception {
<span class="fc" id="L34">		commtool = null;</span>
<span class="fc" id="L35">	}</span>

	/**
	 * @CORRECTED the help msg is copied from projecet specs
	 */
	@Test
	public void testGetHelp() {
<span class="fc" id="L42">		String result = commtool.getHelp();</span>
<span class="fc" id="L43">		assertTrue(result</span>
<span class="fc" id="L44">				.equals(&quot;comm : Compares two sorted files line by line. With no options, produce three-column output. Column one\n&quot;</span>
						+ &quot;contains lines unique to FILE1, column two contains lines unique to FILE2, and column three contains lines\n&quot;
						+ &quot;common to both files.\n\n&quot;
						+ &quot;Command Format - comm [OPTIONS] FILE1 FILE2\n&quot;
						+ &quot;FILE1 - Name of the file 1\n&quot;
						+ &quot;FILE2 - Name of the file 2\n&quot;
						+ &quot;-c : check that the input is correctly sorted, even if all input lines are pairable\n&quot;
						+ &quot;-d : do not check that the input is correctly sorted\n&quot;
						+ &quot;-help : Brief information about supported options\n&quot;));
<span class="fc" id="L53">	}</span>

	@Test
	public void compareFileEqualListTest() {
<span class="fc" id="L57">		String input1 = &quot;hello world&quot;;</span>
<span class="fc" id="L58">		String input2 = &quot;hello world&quot;;</span>
<span class="fc" id="L59">		String expected = &quot;\t\t\t\thello world\n&quot;;</span>
<span class="fc" id="L60">		String result = commtool.compareFiles(input1, input2);</span>
<span class="fc" id="L61">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L62">	}</span>

	@Test
	public void compareFilesUnequalListTest() {
<span class="fc" id="L66">		String input1 = &quot;hello world\nthis is a test\nfile\nabc&quot;;</span>
<span class="fc" id="L67">		String input2 = &quot;baby\nhello world\nfinal&quot;;</span>
<span class="fc" id="L68">		String expected = &quot;\t\tbaby\n\t\t\t\thello world\ncomm: file 2 is not in sorted order\n\t\tfinal\nthis is a test\ncomm: file 1 is not in sorted order\nfile\nabc\n&quot;;</span>
<span class="fc" id="L69">		String result = commtool.compareFiles(input1, input2);</span>

<span class="fc" id="L71">		assertEquals(0, expected.compareTo(result));</span>
<span class="fc" id="L72">	}</span>

	@Test
	public void compareFilesCheckSortStatusEqualListTest() {
<span class="fc" id="L76">		String input1 = &quot;hello world&quot;;</span>
<span class="fc" id="L77">		String input2 = &quot;hello world&quot;;</span>
<span class="fc" id="L78">		String expected = &quot;\t\t\t\thello world\n&quot;;</span>
<span class="fc" id="L79">		String result = commtool.compareFilesCheckSortStatus(input1, input2);</span>
<span class="fc" id="L80">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L81">	}</span>

	@Test
	public void compareFilesCheckSortStatusUnequalListTest() {
<span class="fc" id="L85">		String input1 = &quot;hello world\nthis is a test\nfile\nabc&quot;;</span>
<span class="fc" id="L86">		String input2 = &quot;baby\nhello world\nfinal&quot;;</span>
<span class="fc" id="L87">		String expected = &quot;\t\tbaby\n\t\t\t\thello world\ncomm: file 2 is not in sorted order\n&quot;;</span>
<span class="fc" id="L88">		String result = commtool.compareFilesCheckSortStatus(input1, input2);</span>
<span class="fc" id="L89">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L90">	}</span>

	@Test
	public void compareFilesDoNotCheckSortStatusEqualListTest() {
<span class="fc" id="L94">		String input1 = &quot;hello world&quot;;</span>
<span class="fc" id="L95">		String input2 = &quot;hello world&quot;;</span>
<span class="fc" id="L96">		String expected = &quot;\t\t\t\thello world\n&quot;;</span>
<span class="fc" id="L97">		String result = commtool.compareFilesDoNotCheckSortStatus(input1,</span>
<span class="fc" id="L98">				input2);</span>
<span class="fc" id="L99">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L100">	}</span>

	@Test
	public void compareFilesDoNotCheckSortStatusUnequalListTest() {
<span class="fc" id="L104">		String input1 = &quot;hello world\nthis is a test\nfile\nabc&quot;;</span>
<span class="fc" id="L105">		String input2 = &quot;baby\nhello world\nfinal&quot;;</span>
<span class="fc" id="L106">		String expected = &quot;\t\tbaby\n\t\t\t\thello world\n\t\tfinal\nthis is a test\nfile\nabc\n&quot;;</span>
<span class="fc" id="L107">		String result = commtool.compareFilesDoNotCheckSortStatus(input1,</span>
<span class="fc" id="L108">				input2);</span>
<span class="fc" id="L109">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L110">	}</span>

	@Test
	public void compareFilesOneEmptyListTest() {
<span class="fc" id="L114">		String input1 = &quot;&quot;;</span>
<span class="fc" id="L115">		String input2 = &quot;baby\nhello world\nfinal&quot;;</span>
<span class="fc" id="L116">		String expected = &quot;\t\tbaby\n\t\thello world\ncomm: file 2 is not in sorted order\n\t\tfinal\n&quot;;</span>
<span class="fc" id="L117">		String result = commtool.compareFiles(input1, input2);</span>
<span class="fc" id="L118">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L119">	}</span>

	@Test
	public void compareFilesCheckSortStatusOneEmptyListTest() {
<span class="fc" id="L123">		String input1 = &quot;&quot;;</span>
<span class="fc" id="L124">		String input2 = &quot;baby\nhello world\nfinal&quot;;</span>
<span class="fc" id="L125">		String expected = &quot;\t\tbaby\n\t\thello world\ncomm: file 2 is not in sorted order\n&quot;;</span>
<span class="fc" id="L126">		String result = commtool.compareFilesCheckSortStatus(input1, input2);</span>
<span class="fc" id="L127">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L128">	}</span>

	@Test
	public void compareFilesDoNotCheckSortStatusOneEmptyListTest() {
<span class="fc" id="L132">		String input1 = &quot;&quot;;</span>
<span class="fc" id="L133">		String input2 = &quot;baby\nhello world\nfinal&quot;;</span>
<span class="fc" id="L134">		String expected = &quot;\t\tbaby\n\t\thello world\n\t\tfinal\n&quot;;</span>

<span class="fc" id="L136">		String result = commtool.compareFilesDoNotCheckSortStatus(input1,</span>
<span class="fc" id="L137">				input2);</span>
<span class="fc" id="L138">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L139">	}</span>

	@Test
	public void compareFilesTwoEmptyListTest() {
<span class="fc" id="L143">		String input1 = &quot;&quot;;</span>
<span class="fc" id="L144">		String input2 = &quot;&quot;;</span>
<span class="fc" id="L145">		String expected = &quot;&quot;;</span>
<span class="fc" id="L146">		String result = commtool.compareFiles(input1, input2);</span>

<span class="fc" id="L148">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L149">	}</span>

	@Test
	public void compareFilesCheckSortStatusTwoEmptyListTest() {
<span class="fc" id="L153">		String input1 = &quot;&quot;;</span>
<span class="fc" id="L154">		String input2 = &quot;&quot;;</span>
<span class="fc" id="L155">		String expected = &quot;&quot;;</span>
<span class="fc" id="L156">		String result = commtool.compareFilesCheckSortStatus(input1, input2);</span>
<span class="fc" id="L157">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L158">	}</span>

	@Test
	public void compareFilesDoNotCheckSortStatusTwoEmptyListTest() {
<span class="fc" id="L162">		String input1 = &quot;&quot;;</span>
<span class="fc" id="L163">		String input2 = &quot;&quot;;</span>
<span class="fc" id="L164">		String expected = &quot;&quot;;</span>
<span class="fc" id="L165">		String result = commtool.compareFilesDoNotCheckSortStatus(input1,</span>
<span class="fc" id="L166">				input2);</span>
<span class="fc" id="L167">		assertEquals(expected.compareTo(result), 0);</span>
<span class="fc" id="L168">	}</span>

	/**
	 * @CORRECTED when there is no option, by default &quot;file not sorted&quot; should be printed

	 * @throws IOException
	 */
	@Test
	public void executeNoOptionTest() throws IOException {
		// Test expected behavior
		// Create tmp folder with 2 files. Execute comm with no option
<span class="fc" id="L179">		File tempFolder = Files.createTempDirectory(&quot;tempFolder&quot;).toFile();</span>
<span class="fc" id="L180">		File file1 = Files.createFile(</span>
<span class="fc" id="L181">				new File(tempFolder, &quot;tempFile1.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L182">		File file2 = Files.createFile(</span>
<span class="fc" id="L183">				new File(tempFolder, &quot;tempFile2.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L184">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L185">		Files.write(file1.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>
<span class="fc" id="L186">		temp = &quot;baby\nhello world&quot;;</span>
<span class="fc" id="L187">		Files.write(file2.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>
<span class="fc" id="L188">		temp = &quot;\t\tbaby\n\t\t\t\thello world\nthis is a test\ncomm: file 1 is not in sorted order\nfile&quot;;</span>
<span class="fc" id="L189">		commtool = new CommTool(</span>
<span class="fc" id="L190">				new String[] { file1.getName(), file2.getName() });</span>
<span class="fc" id="L191">		String result = commtool.execute(tempFolder, &quot; &quot; + file1.getName()</span>
<span class="fc" id="L192">				+ &quot; &quot; + file2.getName());</span>
<span class="fc" id="L193">		assertEquals(true, result.contains(temp));</span>
<span class="fc" id="L194">		Files.delete(file1.toPath());</span>
<span class="fc" id="L195">		Files.delete(file2.toPath());</span>
<span class="fc" id="L196">		Files.delete(tempFolder.toPath());</span>
<span class="fc" id="L197">	}</span>

	@Test
	public void executeOneOptionTest() throws IOException {
		// Test expected behavior
		// Create tmp folder with 2 files. Execute comm with a option
<span class="fc" id="L203">		File tempFolder = Files.createTempDirectory(&quot;tempFolder&quot;).toFile();</span>
<span class="fc" id="L204">		File file1 = Files.createFile(</span>
<span class="fc" id="L205">				new File(tempFolder, &quot;tempFile1.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L206">		File file2 = Files.createFile(</span>
<span class="fc" id="L207">				new File(tempFolder, &quot;tempFile2.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L208">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L209">		Files.write(file1.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>
<span class="fc" id="L210">		temp = &quot;baby\nhello world&quot;;</span>
<span class="fc" id="L211">		Files.write(file2.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>
<span class="fc" id="L212">		temp = &quot;\t\tbaby\n\t\t\t\thello world\nthis is a test\nfile\n&quot;;</span>
<span class="fc" id="L213">		commtool = (ICommTool) CommandParser.parse(&quot;comm &quot; + &quot;-d &quot; + file1.getName()</span>
<span class="fc" id="L214">				+ &quot; &quot; + file2.getName(), shell);</span>
<span class="fc" id="L215">		String result = commtool.execute(tempFolder, &quot;-d &quot; + file1.getName()</span>
<span class="fc" id="L216">				+ &quot; &quot; + file2.getName());</span>
<span class="fc" id="L217">		assertEquals(temp.compareTo(result), 0);</span>
<span class="fc" id="L218">		Files.delete(file1.toPath());</span>
<span class="fc" id="L219">		Files.delete(file2.toPath());</span>
<span class="fc" id="L220">		Files.delete(tempFolder.toPath());</span>
<span class="fc" id="L221">	}</span>

	/**
	 * @CORRECTED when there are two flags, the first one take effect
	 * @throws IOException
	 */
	@Test
	public void executeTwoOptionTest() throws IOException {
		// Test expected behavior
		// Create tmp folder with 2 files. Execute comm with two option
<span class="fc" id="L231">		File tempFolder = Files.createTempDirectory(&quot;tempFolder&quot;).toFile();</span>
<span class="fc" id="L232">		File file1 = Files.createFile(</span>
<span class="fc" id="L233">				new File(tempFolder, &quot;tempFile1.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L234">		File file2 = Files.createFile(</span>
<span class="fc" id="L235">				new File(tempFolder, &quot;tempFile2.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L236">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L237">		Files.write(file1.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>
<span class="fc" id="L238">		temp = &quot;baby\nhello world&quot;;</span>
<span class="fc" id="L239">		Files.write(file2.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>
<span class="fc" id="L240">		temp = &quot;\t\tbaby\n\t\t\t\thello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L241">		commtool = new CommTool(new String[] { &quot;-d&quot;, &quot;-c&quot;, file1.getName(),</span>
<span class="fc" id="L242">				file2.getName() });</span>
<span class="fc" id="L243">		String result = commtool.execute(tempFolder, &quot;-d -c &quot; + file1.getName()</span>
<span class="fc" id="L244">				+ &quot; &quot; + file2.getName());</span>
<span class="fc" id="L245">		assertEquals(true, result.contains(temp));</span>
<span class="fc" id="L246">		Files.delete(file1.toPath());</span>
<span class="fc" id="L247">		Files.delete(file2.toPath());</span>
<span class="fc" id="L248">		Files.delete(tempFolder.toPath());</span>
<span class="fc" id="L249">	}</span>

	@Test
	public void executeOptionHelpTest() {
		// Test expected behavior
		// only have help in the option, no file names

<span class="fc" id="L256">		commtool = (ICommTool) CommandParser.parse(&quot;comm &quot; + &quot;-help&quot;, shell);</span>

<span class="fc" id="L258">		String result = commtool.execute(</span>
<span class="fc" id="L259">				new File(System.getProperty(&quot;java.io.tmpdir&quot;)), &quot;-help&quot;);</span>
<span class="fc" id="L260">		assertTrue(result</span>
<span class="fc" id="L261">				.startsWith((&quot;comm : Compares two sorted files line by line. With no options, produce three-column output. Column one\n&quot;</span>
						+ &quot;contains lines unique to FILE1, column two contains lines unique to FILE2, and column three contains lines\n&quot;
						+ &quot;common to both files.\n\n&quot;
						+ &quot;Command Format - comm [OPTIONS] FILE1 FILE2\n&quot;
						+ &quot;FILE1 - Name of the file 1\n&quot;
						+ &quot;FILE2 - Name of the file 2\n&quot;
						+ &quot;-c : check that the input is correctly sorted, even if all input lines are pairable\n&quot;
						+ &quot;-d : do not check that the input is correctly sorted\n&quot;
						+ &quot;-help : Brief information about supported options\n&quot;)));

<span class="fc" id="L271">	}</span>

	@Test
	public void executeOptionsIncludeHelpTest() throws IOException {
		// Test expected behavior
		// have multiple options including help.
<span class="fc" id="L277">		File tempFolder = Files.createTempDirectory(&quot;tempFolder&quot;).toFile();</span>
<span class="fc" id="L278">		File file1 = Files.createFile(</span>
<span class="fc" id="L279">				new File(tempFolder, &quot;tempFile1.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L280">		File file2 = Files.createFile(</span>
<span class="fc" id="L281">				new File(tempFolder, &quot;tempFile2.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L282">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L283">		Files.write(file1.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>
<span class="fc" id="L284">		temp = &quot;baby\nhello world&quot;;</span>
<span class="fc" id="L285">		Files.write(file2.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>

<span class="fc" id="L287">		commtool = (ICommTool) CommandParser.parse(&quot;comm &quot; + &quot;-d -help -c&quot; + file1.getName() + &quot; &quot; + file2.getName(), shell);</span>

<span class="fc" id="L289">		String result = commtool.execute(tempFolder,</span>
<span class="fc" id="L290">				&quot;-d -help -c&quot; + file1.getName() + &quot; &quot; + file2.getName());</span>
<span class="fc" id="L291">		assertTrue(result.contains(&quot;comm : Compares two sorted files line by line. With no options, produce three-column output. Column one\n&quot;</span>
				+ &quot;contains lines unique to FILE1, column two contains lines unique to FILE2, and column three contains lines\n&quot;
				+ &quot;common to both files.\n\n&quot;
				+ &quot;Command Format - comm [OPTIONS] FILE1 FILE2\n&quot;
				+ &quot;FILE1 - Name of the file 1\n&quot;
				+ &quot;FILE2 - Name of the file 2\n&quot;
				+ &quot;-c : check that the input is correctly sorted, even if all input lines are pairable\n&quot;
				+ &quot;-d : do not check that the input is correctly sorted\n&quot;
				+ &quot;-help : Brief information about supported options\n&quot;));
<span class="fc" id="L300">		Files.delete(file1.toPath());</span>
<span class="fc" id="L301">		Files.delete(file2.toPath());</span>
<span class="fc" id="L302">		Files.delete(tempFolder.toPath());</span>
<span class="fc" id="L303">	}</span>

	/**
	 * @CORRECTED if file name contains space, must be wrapped in quotes
	 * @throws IOException
	 */
	@Test
	public void executeEmptyFileTest() throws IOException {
		// Test expected behavior
		// One of the file does not contains any string
<span class="fc" id="L313">		File tempFolder = Files.createTempDirectory(&quot;tempFolder&quot;).toFile();</span>
<span class="fc" id="L314">		File file1 = Files.createFile(</span>
<span class="fc" id="L315">				new File(tempFolder, &quot;tempFile1.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L316">		File file2 = Files.createFile(</span>
<span class="fc" id="L317">				new File(tempFolder, &quot;tempFile2.txt&quot;).toPath()).toFile();</span>
<span class="fc" id="L318">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L319">		Files.write(file1.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>

<span class="fc" id="L321">		commtool = (ICommTool) CommandParser.parse(&quot;comm &quot; + &quot;-d -c &quot; + file1.getName()</span>
<span class="fc" id="L322">				+ &quot; &quot; + file2.getName(), shell);</span>

<span class="fc" id="L324">		String result = commtool.execute(tempFolder, &quot;-d -c &quot; + file1.getName()</span>
<span class="fc" id="L325">				+ &quot; &quot; + file2.getName());</span>
<span class="fc" id="L326">		temp = &quot;hello world\nthis is a test\nfile\n&quot;;</span>
<span class="fc" id="L327">		assertTrue(result.equals(temp));</span>
<span class="fc" id="L328">		Files.delete(file1.toPath());</span>
<span class="fc" id="L329">		Files.delete(file2.toPath());</span>
<span class="fc" id="L330">		Files.delete(tempFolder.toPath());</span>
<span class="fc" id="L331">	}</span>

	@Test
	public void executeSameFileNoOptionTest() throws IOException {
<span class="fc" id="L335">		File file = Files.createTempFile(&quot;temp File&quot;, &quot;.tmp&quot;).toFile();</span>
<span class="fc" id="L336">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L337">		Files.write(file.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>

<span class="fc" id="L339">		commtool = (ICommTool) CommandParser.parse(&quot;comm \&quot;&quot; + file.getName() + &quot;\&quot; \&quot;&quot; + file.getName() + &quot;\&quot;&quot;, shell);</span>

<span class="fc" id="L341">		String result = commtool.execute(file.getParentFile(), file.getName()</span>
<span class="fc" id="L342">				+ &quot; &quot; + file.getName());</span>
<span class="fc" id="L343">		String expected = &quot;\t\t\t\thello world\n\t\t\t\tthis is a test\ncomm: file 1 is not in sorted order\ncomm: file 2 is not in sorted order\n\t\t\t\tfile\n&quot;;</span>
<span class="fc" id="L344">		assertEquals(result, expected);</span>
<span class="fc" id="L345">		Files.delete(file.toPath());</span>
<span class="fc" id="L346">	}</span>

	@Test
	public void executeSameFileNoCheckTest() throws IOException {
<span class="fc" id="L350">		File file = Files.createTempFile(&quot;temp File&quot;, &quot;.tmp&quot;).toFile();</span>
<span class="fc" id="L351">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L352">		Files.write(file.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>

<span class="fc" id="L354">		commtool = (ICommTool) (CommandParser.parse(&quot;comm &quot; + &quot;-d \&quot;&quot;</span>
<span class="fc" id="L355">				+ file.getName() + &quot;\&quot; \&quot;&quot; + file.getName() + &quot;\&quot;&quot;, shell));</span>

<span class="fc" id="L357">		String result = commtool.execute(file.getParentFile(),</span>
<span class="fc" id="L358">				&quot;-d &quot; + file.getName() + &quot; &quot; + file.getName());</span>
<span class="fc" id="L359">		String expected = &quot;\t\t\t\thello world\n\t\t\t\tthis is a test\n\t\t\t\tfile\n&quot;;</span>
<span class="fc" id="L360">		assertEquals(true, result.contains(expected));</span>
<span class="fc" id="L361">		Files.delete(file.toPath());</span>
<span class="fc" id="L362">	}</span>

	@Test
	public void executeSameFileCheckTest() throws IOException {
<span class="fc" id="L366">		File file = Files.createTempFile(&quot;temp File&quot;, &quot;.tmp&quot;).toFile();</span>
<span class="fc" id="L367">		String temp = &quot;hello world\nthis is a test\nfile&quot;;</span>
<span class="fc" id="L368">		Files.write(file.toPath(), temp.getBytes(), StandardOpenOption.CREATE);</span>

<span class="fc" id="L370">		commtool = (ICommTool) CommandParser.parse(&quot;comm &quot; + &quot;-c \&quot;&quot; + file.getName() + &quot;\&quot; \&quot;&quot; + file.getName() + &quot;\&quot;&quot;, shell);</span>

<span class="fc" id="L372">		String result = commtool.execute(file.getParentFile(),</span>
<span class="fc" id="L373">				&quot;-c &quot; + file.getName() + &quot; &quot; + file.getName());</span>
<span class="fc" id="L374">		String expected = &quot;\t\t\t\thello world\n\t\t\t\tthis is a test\ncomm: file 1 is not in sorted order\n&quot;;</span>
<span class="fc" id="L375">		assertEquals(result, expected);</span>
<span class="fc" id="L376">		Files.delete(file.toPath());</span>
<span class="fc" id="L377">	}</span>

	@Test
	public void executeFolderTest() throws IOException {
<span class="fc" id="L381">		File dir = Files.createTempDirectory(&quot;temp dir&quot;).toFile();</span>
<span class="fc" id="L382">		String result = commtool.execute(dir.getParentFile(),</span>
<span class="fc" id="L383">				&quot;-c &quot; + dir.getName() + &quot; &quot; + dir.getName());</span>
<span class="fc" id="L384">		assertEquals(commtool.getStatusCode(), 1);</span>
<span class="fc" id="L385">		Files.delete(dir.toPath());</span>
<span class="fc" id="L386">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.3.201306030806</span>CS4218Project (Apr 27, 2014 10:41:54 PM)</div></body></html>